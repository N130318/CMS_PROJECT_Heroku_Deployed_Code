<!-- Edit Post Form -->

<!-- posting card with select tags for branch -->
<div *ngIf="(authService.hodLoggedIn()||authService.tpoLoggedIn())&&(postedit)">
  <div class="body">
    <div align="center">
      <div class="card" style="background-color: transparent">
          <div >
            <div class="card " >
                <div class="card-header" style="background-color: wheat">Edit Post</div>
                <form #frm="ngForm" (ngSubmit)="onUpdatePost(frm)">
                  <div class="card-body" >
                    <div class="form-group">
                    <input type="text" size="65" maxlength="100" placeholder="TITLE" name="title" [ngModel]="selectedPost.title" class="form-control"  required>
                    </div>
                    <div class="form-group">
                      <textarea class="form-control"  placeholder="DESCRIPTION" name="content" [ngModel]="selectedPost.content" required></textarea>
                    </div>
                    <input type="button" class="btn btn-danger" value="Cancel" style="float:right; border-radius: 8px;" (click)="onCancelClick()">
                    <input type="submit" class="btn btn-success" value="Update Post" style="float:right; border-radius: 8px; margin-right:5px;">
                    <div>
                        <select class="btn btn-primary dropdown-toggle" data-toggle="dropdown" placeholder="year" type="button" style="float:left; margin-right:11px; border-radius: 8px;" name="year" [ngModel]="selectedPost.year">
                            <option [ngValue]="undefined" disabled selected>YEAR</option>
                            <option value="all">All</option>
                            <option value="1year">1<sup>st </sup>year</option>
                            <option value="2year">2<sup>nd </sup>year</option>
                            <option value="3year">3<sup>ssssssrd </sup>year</option>
                            <option value="4year">4<sup>th </sup>year</option>
                          </select>
                    </div>
                    <!-- <div class="button-group ">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" style="float:left; margin-right:11px; border-radius: 8px;" name="year" ng-Model>YEAR</button>
                      <ul class="dropdown-menu ">
                          <li [class.selected]="cb1.checked">&nbsp;<input #cb1 type="checkbox" value="all"/>&nbsp;All</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;1ST</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;2ND</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;3RD</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;4TH</li>
                      </ul>
                  </div>-->
                    <div class="button-group" *ngIf="authService.tpoLoggedIn()">
                        <select class="btn btn-primary dropdown-toggle" data-toggle="dropdown" type="button" style="float:left; margin-right:11px; border-radius: 8px;" name="dept" [ngModel]="selectedPost.dept">
                            <option [ngValue]="undefined" disabled selected>Dept.</option>
                            <option value="all" selected>All</option>
                            <option value="CSE">CSE</option>
                            <option value="EEE">EEE</option>
                            <option value="ECE">ECE</option>
                            <option value="MECH">MECH</option>
                            <option value="CIVIL">CIVIL</option>
                            <option value="IT">IT</option>
                          </select>
                  </div></div>
                    </form>
               <!-- <div class="card-footer">Footer</div> -->
              </div>
        </div>
    </div >
  </div>
  </div></div>


<!--hod dashboard-->

<!-- posting card with select tags for branch -->
<div *ngIf="(authService.hodLoggedIn()||authService.tpoLoggedIn())&&!(postedit)">
  <div class="body">
    <div align="center">
      <div class="card" style="background-color: transparent">
          <div >
            <div class="card " >
                <div class="card-header" style="background-color: wheat">write a post to student timeline</div>
                <form>
                  <div class="card-body" >
                    <div class="form-group">
                    <input type="text" size="65" maxlength="100" placeholder="TITLE" name="title" [(ngModel)]="title" class="form-control" required>
                    </div>
                    <div class="form-group">
                      <textarea class="form-control"  placeholder="DESCRIPTION" name="content" [(ngModel)]="content" required></textarea>
                    </div>
                    <input type="button" class="btn btn-success" value="post" style="float:right; border-radius: 8px;" (click)="onPostClick()">
                    <div>
                        <select class="btn btn-primary dropdown-toggle" data-toggle="dropdown" placeholder="year" type="button" style="float:left; margin-right:11px; border-radius: 8px;" name="year" [(ngModel)]="year">
                            <option [ngValue]="undefined" disabled selected>YEAR</option>
                            <option value="all">All</option>
                            <option value="1year">1<sup>st </sup>year</option>
                            <option value="2year">2<sup>nd </sup>year</option>
                            <option value="3year">3<sup>rd </sup>year</option>
                            <option value="4year">4<sup>th </sup>year</option>
                          </select>
                    </div>
                    <!-- <div class="button-group ">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" style="float:left; margin-right:11px; border-radius: 8px;" name="year" ng-Model>YEAR</button>
                      <ul class="dropdown-menu ">
                          <li [class.selected]="cb1.checked">&nbsp;<input #cb1 type="checkbox" value="all"/>&nbsp;All</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;1ST</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;2ND</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;3RD</li>
                        <li>&nbsp;<input type="checkbox" ng-checked="all"/>&nbsp;4TH</li>
                      </ul>
                  </div>-->
                    <div class="button-group" *ngIf="authService.tpoLoggedIn()">
                        <select class="btn btn-primary dropdown-toggle" data-toggle="dropdown" type="button" style="float:left; margin-right:11px; border-radius: 8px;" name="dept" [(ngModel)]="dept">
                            <option [ngValue]="undefined" disabled selected>Dept.</option>
                            <option value="all" selected>All</option>
                            <option value="CSE">CSE</option>
                            <option value="EEE">EEE</option>
                            <option value="ECE">ECE</option>
                            <option value="MECH">MECH</option>
                            <option value="CIVIL">CIVIL</option>
                            <option value="IT">IT</option>
                          </select>
                  </div></div>
                    </form>
               <!-- <div class="card-footer">Footer</div> -->
              </div>
        </div>
    </div >
  </div>
  </div></div>

  <!--TPO DASHBOARD-->

<!--student dashboard-->

<div *ngIf="authService.adminLoggedIn()">
  <h1 class="h1 mb-1 text-center font-weight-normal text-white" style="padding:10px;">Admin Welcome to your Dashboard</h1><br>
  <h2 class="h2 mb-2 text-center font-weight-normal text-white">Your having Rights to Perform following Operations:</h2><br>
  <ul class="text-center font-weight-normal text-white" style="list-style-type: none;">
    <li>Add Users(HOD,TPO,STUDENTS)</li>
    <li>Update/Delete Users(HOD,TPO,STUDENTS)</li>
    <li>Search Students</li>
    <li>Change Password</li>
  </ul>
</div>


<div *ngIf="authService.studentLoggedIn()||authService.hodLoggedIn()||authService.tpoLoggedIn()">
    <!-- <div class="body">
      <div align="center">
        <div class="card-header " style=" width: 300px;background-color:#dee2e6"><h3>Timeline</h3></div>
     -->
    
          <div class="container" *ngIf="authService.studentLoggedIn()">
      
            <!-- Trigger the modal with a button -->
            <button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#myModal" style="float: left;">Timetable</button>
    
            <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog">
              
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title" *ngIf="user.dept!=''&&user.dept!=undefined&&user.year!=''&&user.year!=undefined">Time Table Of {{user.year}} {{user.dept}}</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
            <div class="modal-body" *ngIf="user.dept!=''&&user.dept!=undefined&&user.year!=''&&user.year!=undefined">
              <img src="assets/images/{{user.year}}_{{user.dept}}.png" style="width:100%;height:100%;">
            </div>
            <div class="modal-body" *ngIf="user.dept==''||user.dept==undefined||user.year==''||user.year==undefined">
              <img src="assets/images/default_tt.png" style="width:100%;height:100%;">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
          
        </div>
      </div>
      
    
    <div class="dropdown float-right" >
        <select class="btn btn-primary btn-md dropdown-toggle p-23" type="button" data-toggle="dropdown" name="pselect" [(ngModel)]="pselect" (change)="getPostsOf()">
        <!-- <span class="caret"></span>
        <ul class="dropdown-menu">
          <option><li><a href="#"></a>HTML</a></li></option>
          <li><a href="#">CSS</a></li>
          <li><a href="#">JavaScript</a></li>
        </ul> -->
        <option value="undefined" selected disabled>Select</option>
        <option value="all">ALL</option>
        <option value="hod" >HOD</option>
        <option value="tpo">TPO</option>
      </select>
      </div>
    </div>
    
    <br>
    <!-- Post Displaying for all users Except Admin-->
    <div align="center">
       <br>
       <div class="card md" style="background-color: transparent;">           
        <div ><!--continer-->
          <div *ngFor="let post of posts" style="padding-bottom: 1.5%;">
              <div class="card" >
                <div class="card-header text-center" style="background-color: wheat"><h6>{{post.title}}</h6>
                  <button style="float:right;" class="btn btn-danger" *ngIf="authService.hodLoggedIn()||authService.tpoLoggedIn()" (click)="deletepost(post)">Delete</button>
                  <button style="float:right; margin-right:5px;" class="btn btn-primary" *ngIf="authService.hodLoggedIn()||authService.tpoLoggedIn()" (click)="showeditpost(post)" >Edit</button>
                </div>
                <div class="card-body">
                  <p>{{post.content}}</p>
                  <div class="float-left text-left" style="opacity: 0.5;">
                      Posted by : {{post.postedby}}
                      <br>
                      Posted Dept : {{post.dept}}
                    </div>
                  <div class="float-right text-right" style="opacity: 0.5;">
                      Posted To : {{post.year}}
                      <br>
                    Posted On : {{post.postedon?post.postedon:"just now"}}
                  </div>
                </div> 
               <!-- <div class="card-footer">Footer</div> -->
              </div>
            
        </div>
        <br>
      <!-- removed from here -->
     </div>
        <br>
      </div>
    </div>
    </div>